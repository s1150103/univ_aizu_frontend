# 会津大学 監視ダッシュボード フロントエンド

会津若松市内研究室制御盤の稼働状況を可視化するWebダッシュボードのフロントエンド実装です。

## 📋 概要

このプロジェクトは、研究室の制御盤（左側ランプ、中央ランプ、右側ランプ）の稼働状況を時系列で可視化し、リアルタイムで監視できるWebアプリケーションです。

## ✨ 主な機能

- **日付検索機能**: カレンダーUIで任意の日付のデータを検索・表示
- **インタラクティブなタイムライン**: ドラッグ操作で時間を移動し、リアルタイムでステータスを確認
- **可視化グリッド**: 24時間の稼働状況を色分けで直感的に表示
- **レスポンシブデザイン**: PC・タブレット・スマートフォンに対応
- **エラーハンドリング**: データファイルが見つからない場合はモックデータを自動生成

## 🎨 ステータス色分け

| 色 | 状態 | 説明 |
|---|-----|------|
| 🟢 グリーン | 停止中 | デバイスは正常だが稼働していない状態 |
| 🔴 レッド | 稼働中 | デバイスが正常に稼働している状態 |
| 🟡 イエロー | 警告 | 注意が必要な状態 |
| ⚪ グレー | 未使用 | デバイスが使用されていない状態 |

## 🛠️ 技術スタック

- **フロントエンド**: HTML5, CSS3, JavaScript (ES6+)
- **フレームワーク**: Vue.js 2.7.14
- **UI ライブラリ**: Bootstrap 5.3.0
- **アイコン**: Bootstrap Icons
- **CSS フレームワーク**: Tailwind CSS
- **データ可視化**: D3.js v6
- **時間処理**: Moment.js + Moment Timezone

## 📁 ファイル構成

```
.
├── u-aizu_ver2.html          # メインのダッシュボード画面
├── data_2025-09-10.json      # サンプルデータファイル
├── create_json.py            # JSONデータ生成スクリプト
└── README.md                 # このファイル
```

## 🚀 セットアップ・使用方法

### 1. ローカル環境での実行

1. リポジトリをクローン:
```bash
git clone https://github.com/s1150103/univ_aizu_frontend.git
cd univ_aizu_frontend
```

2. HTMLファイルをブラウザで開く:
```bash
# ローカルサーバーを起動（推奨）
python -m http.server 8000
# ブラウザで http://localhost:8000/u-aizu_ver2.html にアクセス

# または直接ファイルを開く
open u-aizu_ver2.html  # macOS
# start u-aizu_ver2.html  # Windows
```

### 2. データファイルの形式

データは `data_YYYY-MM-DD.json` 形式で配置します:

```json
{
  "date": "2025-09-10",
  "location": "会津若松市内研究室制御盤",
  "data_lists": [
    [  // 左側ランプのデータ
      {
        "color": 2,
        "timestamp": 0,
        "hour": 0,
        "minute": 0,
        "time": "00:00:00"
      },
      // ... 1440個のデータポイント（1分間隔）
    ],
    [  // 中央ランプのデータ
      // ...
    ],
    [  // 右側ランプのデータ  
      // ...
    ]
  ]
}
```

## 🎮 操作方法

### 基本操作
1. **日付選択**: カレンダーで監視したい日付を選択
2. **検索実行**: 「検索」ボタンをクリックしてデータを読み込み
3. **時間移動**: タイムライン上の赤いカーソルをドラッグして時間を移動
4. **状態確認**: 右側のリアルタイム状況パネルで現在時刻の各デバイス状態を確認

### デバッグ機能
- **テストボタン**: 黄色の「テスト」ボタンで強制的にサンプルデータを読み込み
- **ブラウザコンソール**: F12でコンソールを開くと詳細なログが確認可能

## 📊 データ仕様

- **時間間隔**: 1分間隔（将来的に30秒間隔対応予定）
- **データ期間**: 24時間（00:00〜23:59）
- **デバイス数**: 3台（左側・中央・右側ランプ）
- **ステータス値**: 0（未使用）、1（停止）、2（稼働）、3（警告）

## 🔧 開発・カスタマイズ

### モックデータ生成
データファイルが存在しない場合、自動的にリアルなモックデータが生成されます。
カスタムパターンは `generateRealistic24HourData()` 関数で調整可能です。

### Vue.js コンポーネント
- **検索フォーム**: `vue-date-search` コンポーネント
- **ヘッダー表示**: `vue-header` コンポーネント

### スタイルカスタマイズ
- グラデーション効果、アニメーション、カラーテーマは CSS セクションで調整可能
- レスポンシブブレークポイントは Bootstrap 5 基準

## 🐛 トラブルシューティング

### よくある問題

**Q: 検索ボタンを押しても何も表示されない**
- A: ブラウザのコンソール（F12）でエラーを確認。ローカルサーバー経由でアクセスしているか確認。

**Q: 日付が白くて見えない**
- A: 最新版では修正済み。古いバージョンの場合はリポジトリを更新してください。

**Q: JSONファイルが読み込まれない**
- A: ファイル名が `data_YYYY-MM-DD.json` 形式になっているか確認。存在しない場合はモックデータが表示されます。

## 🔄 今後の予定

- [ ] 30秒間隔データ対応
- [ ] データエクスポート機能
- [ ] アラート通知機能
- [ ] 複数拠点対応
- [ ] ダークモード対応

## 📄 ライセンス

このプロジェクトは会津大学の研究・教育目的で開発されています。

## 🤝 貢献

バグ報告や機能提案は Issues でお気軽にご連絡ください。

---

**開発**: Claude Code Assistant  
**更新日**: 2025年9月10日